<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head>
    <title>Fragments</title>
</head>
<body>

<div th:fragment="buttonUserSvg">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><mask x="0" y="0" width="60" height="60"><g><circle cx="30" cy="30" r="30" fill="#fff"></circle></g></mask></defs><g><g><circle cx="30" cy="30" r="30" fill-opacity="0"></circle><g><path class="cls-4" fill="#000" fill-opacity=".8" d="M0 0h60v60H0z"></path></g><g><path class="cls-5" d="M46.68 43.83c-2-5.8-6.9-9.69-16.63-9.69s-14.58 3.77-16.84 9.69"></path></g><g><circle class="cls-5" cx="30" cy="20.86" r="8.29"></circle></g></g></g>
    </svg>
</div>
<div th:fragment="buttonLogOutSvg">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.76206 1.66675C3.9731 1.66675 3.3335 2.25585 3.3335 2.98253V17.0176C3.3335 17.7442 3.9731 18.3334 4.76206 18.3334H15.2383C16.0272 18.3334 16.6668 17.7442 16.6668 17.0176V15.2632H15.7144V17.0176C15.7144 17.2599 15.5012 17.4562 15.2383 17.4562H4.76206C4.49908 17.4562 4.28588 17.2599 4.28588 17.0176V2.98253C4.28588 2.74031 4.49908 2.54395 4.76206 2.54395H15.2383C15.5012 2.54395 15.7144 2.74031 15.7144 2.98253V5.00008H16.6668V2.98253C16.6668 2.25585 16.0272 1.66675 15.2383 1.66675H4.76206ZM18.2115 9.68L15.5598 6.79933C15.3971 6.62255 15.1333 6.62255 14.9705 6.79933C14.8078 6.9761 14.8078 7.2627 14.9705 7.43948L16.9108 9.54743H10.0002V10.4527H16.9108L14.9705 12.5607C14.8078 12.7375 14.8078 13.0241 14.9705 13.2008C15.1333 13.3776 15.3971 13.3776 15.5598 13.2008L18.2115 10.3202C18.3742 10.1434 18.3742 9.85678 18.2115 9.68Z" fill="#8F8F8F"></path><path d="M16.6667 15.2632H16.8334V15.0965H16.6667V15.2632ZM15.7144 15.2632V15.0965H15.5477V15.2632H15.7144ZM15.7144 5H15.5477V5.16667H15.7144V5ZM16.6667 5V5.16667H16.8334V5H16.6667ZM16.9107 9.54735V9.71402H17.2907L17.0334 9.43447L16.9107 9.54735ZM10.0001 9.54735V9.38068H9.83341V9.54735H10.0001ZM10.0001 10.4527H9.83341V10.6193H10.0001V10.4527ZM16.9107 10.4527L17.0334 10.5655L17.2907 10.286H16.9107V10.4527ZM3.50008 2.98245C3.50008 2.36045 4.05188 1.83333 4.76198 1.83333V1.5C3.89413 1.5 3.16675 2.15108 3.16675 2.98245H3.50008ZM3.50008 17.0175V2.98245H3.16675V17.0175H3.50008ZM4.76198 18.1667C4.05188 18.1667 3.50008 17.6395 3.50008 17.0175H3.16675C3.16675 17.849 3.89413 18.5 4.76198 18.5V18.1667ZM15.2382 18.1667H4.76198V18.5H15.2382V18.1667ZM16.5001 17.0175C16.5001 17.6395 15.9483 18.1667 15.2382 18.1667V18.5C16.106 18.5 16.8334 17.849 16.8334 17.0175H16.5001ZM16.5001 15.2632V17.0175H16.8334V15.2632H16.5001ZM15.7144 15.4298H16.6667V15.0965H15.7144V15.4298ZM15.881 17.0175V15.2632H15.5477V17.0175H15.881ZM15.2382 17.6228C15.58 17.6228 15.881 17.3645 15.881 17.0175H15.5477C15.5477 17.1552 15.4223 17.2895 15.2382 17.2895V17.6228ZM4.76198 17.6228H15.2382V17.2895H4.76198V17.6228ZM4.11913 17.0175C4.11913 17.3645 4.42011 17.6228 4.76198 17.6228V17.2895C4.57786 17.2895 4.45246 17.1552 4.45246 17.0175H4.11913ZM4.11913 2.98245V17.0175H4.45246V2.98245H4.11913ZM4.76198 2.3772C4.42011 2.3772 4.11913 2.63553 4.11913 2.98245H4.45246C4.45246 2.84492 4.57786 2.71053 4.76198 2.71053V2.3772ZM15.2382 2.3772H4.76198V2.71053H15.2382V2.3772ZM15.881 2.98245C15.881 2.63553 15.58 2.3772 15.2382 2.3772V2.71053C15.4223 2.71053 15.5477 2.84492 15.5477 2.98245H15.881ZM15.881 5V2.98245H15.5477V5H15.881ZM16.6667 4.83333H15.7144V5.16667H16.6667V4.83333ZM16.5001 2.98245V5H16.8334V2.98245H16.5001ZM15.2382 1.83333C15.9483 1.83333 16.5001 2.36045 16.5001 2.98245H16.8334C16.8334 2.15108 16.106 1.5 15.2382 1.5V1.83333ZM4.76198 1.83333H15.2382V1.5H4.76198V1.83333ZM15.4371 6.91212L18.0887 9.7928L18.3341 9.56705L15.6823 6.68637L15.4371 6.91212ZM15.0931 6.91212C15.1898 6.80707 15.3404 6.80707 15.4371 6.91212L15.6823 6.68637C15.4536 6.43788 15.0766 6.43788 14.8478 6.68637L15.0931 6.91212ZM15.0931 7.32652C14.9891 7.21355 14.9891 7.0251 15.0931 6.91212L14.8478 6.68637C14.6264 6.92693 14.6264 7.3117 14.8478 7.55227L15.0931 7.32652ZM17.0334 9.43447L15.0931 7.32652L14.8478 7.55227L16.7882 9.66022L17.0334 9.43447ZM10.0001 9.71402H16.9107V9.38068H10.0001V9.71402ZM10.1667 10.4527V9.54735H9.83341V10.4527H10.1667ZM16.9107 10.286H10.0001V10.6193H16.9107V10.286ZM15.0931 12.6735L17.0334 10.5655L16.7882 10.3398L14.8478 12.4477L15.0931 12.6735ZM15.0931 13.0879C14.9891 12.9749 14.9891 12.7865 15.0931 12.6735L14.8478 12.4477C14.6264 12.6883 14.6264 13.0731 14.8478 13.3136L15.0931 13.0879ZM15.4371 13.0879C15.3404 13.1929 15.1898 13.1929 15.0931 13.0879L14.8478 13.3136C15.0766 13.5621 15.4536 13.5621 15.6823 13.3136L15.4371 13.0879ZM18.0887 10.2072L15.4371 13.0879L15.6823 13.3136L18.3341 10.433L18.0887 10.2072ZM18.0887 9.7928C18.1927 9.90578 18.1927 10.0942 18.0887 10.2072L18.3341 10.433C18.5554 10.1924 18.5554 9.80762 18.3341 9.56705L18.0887 9.7928Z" fill="#8F8F8F"></path>
    </svg>
</div>

<!-- Навигация -->
<div th:fragment="toprightpanel" >
    <div class="d-flex flex-column flex-xl-row justify-content-between top-panel">
        <div class="logo">
            <a th:href="@{/}">
                <img th:src="@{/images/logo.svg}" alt="Company Logo">
            </a>
        </div>
        <div sec:authorize="!isAuthenticated()" class="d-flex my-1">
            <div class="py-xl-3 col-6 col-xl-auto d-flex mr-xl-1" >
                <button class="btn btn-outline-bonus ms-xl-auto" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasInput" aria-controls="offcanvasInputLabel">Вход
                </button>
            </div>
            <div class="py-xl-3 col-6 col-xl-auto text-end">
                <button class="btn btn-bonus" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasRegistry"
                        aria-controls="offcanvasRight">Регистрация
                </button>
            </div>
        </div>
        <div class="dropdown absolute-input" sec:authorize="isAuthenticated()">
            <button class="btn user-click dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                <div th:insert="~{fragments :: buttonUserSvg}"></div>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink" >
                <li>
                    <p class="user-name" th:text="${username}"></p>
                    <span class="user-logout">
                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="clear" th:insert="~{fragments :: buttonLogOutSvg}">
                            </button>
                        </form>
                    </span>
                    <button type="button" class="btn btn-link dropdown-item" data-bs-toggle="modal" data-bs-target="#profile">
                        Редактировать профиль
                    </button>
                    <span class="headerLine "></span>
                </li>
                <li><h3></h3></li>
                <a class="dropdown-item" href="/cabinet">Личный кабинет</a>
            </ul>
        </div>
    </div>
    <!-- Сообщение об ошибке -->
    <div th:if="${error}" class="alert alert-danger col-4 m-auto my-5 text-center" role="alert">
        <h3 th:text="${error}"></h3>
    </div>

    <!-- Modal Profile-->
    <div class="modal fade" id="profile" tabindex="-1" aria-labelledby="profileLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="editForm" action="/api/user/update" method="post" class="mt-3">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="profileLabel">Редактировать профиль</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" th:if="${user != null}">
                        <div class="mb-3 d-flex">
                            <label for="emailEditing" class="form-label">Email</label>
                            <input id="emailEditing" th:value="${user.email}" type="email" class="form-control ms-auto" placeholder="name@example.com"
                                   disabled>
                        </div>
                        <div class="mb-3 d-flex">
                            <label for="fioEditing" class="form-label">ФИО</label>
                            <input id="fioEditing" th:value="${user.fio}" type="text" class="form-control ms-auto" name="fieldEditing" required>
                        </div>
                        <div class="mb-3 d-flex">
                            <label for="phoneEditing" class="form-label">Телефон</label>
                            <input id="phoneEditing" th:value="${user.phone}" type="text" class="form-control ms-auto" name="phone" placeholder="+7 (___) ___-__-__"
                                   required>
                        </div>
                        <div class="mb-3 d-flex" th:if="${user.typeActivity != null and user.typeActivity.id == 2}">
                            <label for="innEditing" class="form-label">ИНН Вашей компании</label>
                            <input id="innEditing" th:value="${user.innCompany}" oninput="this.value = this.value.replace(/[^0-9]/g, '');"
                                   type="text" class="form-control ms-auto" name="fieldEditing" required>
                        </div>
                        <div class="mb-3 d-flex">
                            <label for="salonEditing" class="form-label">Салон</label>
                            <input id="salonEditing" th:value="${user.nameSalon}" type="text" class="form-control ms-auto" name="fieldEditing" required>
                        </div>

                        <div class="mb-3 d-flex">
                            <label for="cityEditing" class="form-label" th:text="#{app.city.salon}"></label>
                            <input id="cityEditing" th:value="${user.city}" type="text" class="form-control ms-auto" placeholder="г. Москва" required>
                        </div>

                        <div class="mb-3 d-flex">
                            <label for="addressEditing" class="form-label" th:text="#{app.address.salon}"></label>
                            <input id="addressEditing" th:value="${user.address}" type="text" class="form-control ms-auto" placeholder="пр-т Ботаников стр. 1" required>
                        </div>
                        <div id="errorEditeMessage" class="alert alert-danger mt-3" role="alert" style="display: none;"
                             th:text="#{app.registr.un-succes-registr-user}">
                        </div>
                        <div id="successEditeMessage" class="alert alert-success" style="display: none;">
                            Операция успешно произведена
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div th:fragment="passResetForm">
    <div id="successPasswordResetMessage" style="display: none;">
        <h1>Пароль успешно изменён!</h1>
        <a th:href="@{/}" class="btn btn-bonus">
            На главную
        </a>
    </div>
    <div id="formBlockResetPassword">
        <h1>Восстановление пароля для <span th:text="${userEmail}"> </span></h1>
        <form id="passwordResetInputForm" action="#" th:action="@{${formPassResetUrl}}" method="post" class="mt-3">
            <div class="">
                <div class="mb-3">
                    <input id="emailView" class="form-control" th:value="${userEmail}" type="email" name="username"
                           hidden="">
                    <input id="resetToken" th:value="${resetToken}" hidden="">
                </div>
                <div class="mb-3">
                    <label for="passReset" class="form-label">Введите новый пароль</label>
                    <input id="passReset" type="password" class="form-control" name="newPassword" required>
                </div>
                <!-- Сообщение об ошибке -->
                <div id="errorResetPasswordMessage" class="alert alert-danger mt-3" role="alert" style="display: none;"
                     th:text="#{app.registr.un-succes-registr-user}">
                </div>
            </div>
            <div class="d-flex flex-column">
                <button type="submit" class="btn btn-bonus mt-3 me-auto">
                    Отправить
                </button>
            </div>
        </form>
    </div>
</div>

<div th:fragment="inputform">
    <div class="offcanvas offcanvas-end offcanvas-custom-width" tabindex="-1" id="offcanvasInput"
         aria-labelledby="offcanvasInputLabel">
        <div class="offcanvas-header">
            <button type="button" class="btn-close text-reset d-none d-xl-block" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div id="user-data-input" class=" ">
                <form id="inputForm" action="#" th:action="@{${formInputUrl}}" method="post" class="mt-3">
                    <div class="">
                        <div class="mb-3">
                            <label for="emailInput" class="form-label">Email</label>
                            <input type="email" class="form-control" id="emailInput" name="username"
                                   placeholder="name@example.com" required>
                        </div>
                        <div class="mb-3">
                            <label for="passInput" class="form-label">Пароль</label>
                            <input type="password" class="form-control" name="password" id="passInput" required>
                        </div>
                        <button type="button" class="btn btn-link w-auto" data-bs-toggle="modal" data-bs-target="#resetModal">
                            Восстановить пароль
                        </button>

                        <!-- Сообщение об ошибке -->
                        <div id="errorInputMessage" class="alert alert-danger mt-3" role="alert" style="display: none;"
                             th:text="#{app.registr.un-succes-registr-user}">
                        </div>
                    </div>
                    <div class="d-flex flex-column">
                        <button type="submit" class="btn btn-bonus mt-3 m-auto">
                            Войти
                        </button>
                        <button type="button" class="btn btn-bonus mt-3 m-auto d-xl-none" data-bs-dismiss="offcanvas" aria-label="Close">
                            Закрыть
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Resset Password-->
    <div id="resetModal" class="modal fade" tabindex="-1" aria-labelledby="resetModalLabel" data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="">Восстановление пароля</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="successResMessage" style="display: none;"
                         th:text="#{app.registr.succes-reset-password}">
                    </div>
                    <div id="formBlock">
                        <h5>Введите адрес электронной почты, на него мы отправим ссылку для восстановления пароля</h5>
                        <form id="resetPasswordForm" action="/password-reset/get-link"  method="post" class="mt-3">
                            <div class="mb-3">
                                <label for="passResetEmailInput" class="form-label">Email</label>
                                <input type="email" class="form-control" id="passResetEmailInput" name="username"
                                       placeholder="name@example.com" required>
                            </div>
                            <span id="errorResMessage" role="alert" style="display: none; color:red;"></span>
                            <button type="submit" class="btn btn-bonus mt-3">Отправить</button>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-bonus" data-bs-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:fragment="registerform">
    <div class="offcanvas offcanvas-end offcanvas-custom-width" tabindex="-1" id="offcanvasRegistry"
         aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
            <button type="button" class="btn-close text-reset d-none d-xl-block" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div id="user-registration">
                <form id="regForm" action="#" th:action="@{${formUrl}}" method="post" class="mt-3">

                    <div>
                        <h3 class="mb-2">Ваш вид деятельности</h3>
                    </div>
                    <div id="type-activity" class="d-flex flex-wrap my-xl-3 mb-3 form-check">
                        <div class="form-check me-4">
                            <input id="isDesigner" class="form-check-input" name="check" type="radio" value="1">
                            <label class="form-check-label" for="isDesigner">
                                Вы дизайнер
                            </label>
                        </div>
                        <div class="form-check me-4">
                            <input id="isStoneProcessor" class="form-check-input" name="check" type="radio" value="2">
                            <label class="form-check-label" for="isStoneProcessor">
                                Вы представитель обработчика
                            </label>
                        </div>
                    </div>
                    <div>
                        <div class="mb-5 mb-xl-3">
                            <label for="emailReg" class="form-label">Email</label>
                            <input type="email" class="form-control" id="emailReg" placeholder="name@example.com"
                                   required>
                        </div>
                        <div class="mb-5 mb-xl-3">
                            <label for="fioInput" class="form-label">ФИО</label>
                            <input type="text" class="form-control" id="fioInput" required>
                        </div>
                        <div class="mb-5 mb-xl-3">
                            <label for="phoneInput" class="form-label">Телефон</label>
                            <input type="text" class="form-control" name="phone" id="phoneInput" placeholder="+7 (___) ___-__-__"
                                   required>
                        </div>
                        <div class="mb-5 mb-xl-3 form-check check-box">
                            <input type="checkbox" class="form-check-input" id="dataConsent" name="dataConsent"
                                   required>
                            <label class="form-check-label" for="dataConsent">Я согласен на обработку своих персональных
                                данных</label>
                        </div>
                        <!-- Сообщение об ошибке -->
                        <div id="errorMessage" class="alert alert-danger mt-3" role="alert" style="display: none;"
                             th:text="#{app.registr.un-succes-registr-user}">
                        </div>
                    </div>
                    <div class="d-flex flex-column">
                        <button type="submit" class="btn btn-bonus mt-3 m-auto">
                            Зарегистрироваться
                        </button>
                        <button class="btn btn-bonus mt-3 m-auto d-xl-none" data-bs-dismiss="offcanvas" aria-label="Close">
                            Закрыть
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Сообщения об успешной отправке -->
<div th:fragment="Messages">
    <div id="successMessage" class="success-message alert alert-success alert-dismissible fade show mt-3" role="alert" style="display: none;">
        <span th:text="#{app.registr.succes-create-order}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
            <span aria-hidden="true"></span>
        </button>
    </div>
    <div id="successRegMessage" class="success-message alert alert-success alert-dismissible fade show m-xl-5" role="alert" style="display: none;">
        <div class="text-error">
            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:" width="16" height="16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </svg>
            <span th:text="#{app.registr.succes-registr-user}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                <span aria-hidden="true"></span>
            </button>
        </div>
    </div>
</div>

<div th:fragment="DashBoard" class="container">
    <!-- Creator link to registration by manager -->
    <div sec:authorize="hasRole('ROLE_MANAGER')" >
        <div class="d-flex">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline-secondary ms-auto" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Ссылка для регистрации
            </button>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="linkCreate" action="/api/get-link"  method="post" class="mt-3">
                            <div class="d-flex flex-column">
                                <button  id="createLink" type="submit" class="btn btn-outline-secondary mt-3" th:if="${!linkExists}">
                                    Сгенерировать ссылку
                                </button>
                                <div class="my-5">
                                    <input type="hidden" id="linkExistsValue" th:value="${linkExists}">
                                    <p id="textLinkToReg" th:text="${registeredLink}" ></p>
                                    <p id="limitLink" th:text="${limitLink}" style="color:red"></p>
                                </div>
                                <!-- Кнопка для копирования ссылки -->
                                <button type="button" id="copyLink" class="btn btn-secondary ml-2">Копировать в буфер</button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- DashBoard to manager -->
        <!--        TABS-->
        <ul class="nav nav-tabs" id="managerTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button"
                        role="tab" aria-controls="home" aria-selected="true">Дизайнеры
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="mngscnd-tab" data-bs-toggle="tab" data-bs-target="#mngscnd" type="button"
                        role="tab" aria-controls="order" aria-selected="false">Заявки
                </button>
            </li>
        </ul>
        <div class="tab-content" id="usersTabContent">
            <div class="tab-pane fade show active" id="users" role="tabpanel" aria-labelledby="users-tab">
                <h3 class="mt-5">Ваши Дизайнеры</h3>
                <div th:insert="~{frags/fragmentsHtmlReports :: reportUsers}"></div>
            </div>
            <div class="tab-pane fade" id="mngscnd" role="tabpanel" aria-labelledby="mngscnd-tab">
                <div class="container">
                </div>
            </div>
        </div>
    </div>

    <!-- DashBoard для супер админа -->
    <div sec:authorize="hasRole('ROLE_SUPER_ADMIN')">
        <h2>DashBoard for SupperAdmin</h2>
<!--        <table class="table">-->
<!--            <thead>-->
<!--            <tr>-->
<!--                <th>ФИО</th>-->
<!--                <th>Телефон</th>-->
<!--                <th>Менеджер</th>-->
<!--                <th>Роль</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="user : ${listUsers}">-->
<!--                <td th:text="${user.fio}">1</td>-->
<!--                <td th:text="${user.phone}">Product Name</td>-->
<!--                <td th:text="${user.manager}">Value</td>-->
<!--                &lt;!&ndash; Ссылка на модальное окно &ndash;&gt;-->
<!--                <td th:switch="${user.roles.role}">-->
<!--                    <a href="#"-->
<!--                       th:case="'ROLE_SUPER_ADMIN'"-->
<!--                       th:attr="data-userid=${user.id}"-->
<!--                       data-bs-toggle="modal"-->
<!--                       data-bs-target="#editRoleModal">-->
<!--                        <span class="badge bg-info" th:text="${user.roles.nameRole}"> </span>-->
<!--                    </a>-->
<!--                    <a href="#"-->
<!--                       th:case="'ROLE_USER'"-->
<!--                       th:attr="data-userid=${user.id}"-->
<!--                       data-bs-toggle="modal"-->
<!--                       data-bs-target="#editRoleModal">-->
<!--                        <span class="badge bg-warning" th:text="${user.roles.nameRole}"> </span>-->
<!--                    </a>-->
<!--                </td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
        <table class="table">
            <thead>
            <tr>
                <th>ID ордера</th>
                <th>дата ордера</th>
                <th>Клиент</th>
                <th>сумма</th>
                <th>Статус ордера</th>
            </tr>
            </thead>
            <tbody>
                <tr th:each="order : ${ordersList}">
                    <td th:text="${order.id}"></td>
                    <td th:text="${order.createDate}"></td>
                    <td th:text="${order.userEntity.fio}"></td>
                    <td th:text="${order.sum}"></td>
                    <td th:text="${order.status.name}"></td>
                </tr>
            </tbody>

        </table>
        <h2>Счета</h2>
        <table class="table">
            <thead>
            <tr>
                <th>№ инвойса</th>
                <th>дата инвойса</th>
                <th>сумма</th>
                <th>Внешний id контракта</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="invoice : ${invoicesList}">
                <td th:text="${invoice.id}">1</td>
                <td th:text="${invoice.id}">Product Name</td>
                <td th:text="${invoice.sum}">Value</td>
                <td th:text="${invoice.id}">Value</td>
            </tr>
            </tbody>
        </table>
        <!-- Модальное окно -->
        <div class="modal fade" id="editRoleModal" tabindex="-1" aria-labelledby="editRoleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editRoleModalLabel">Установить Пользователю роль</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="editRoleForm" method="post" action="/changeRole">
                            <input type="hidden" id="userIdInput" name="userId" value=""/>
                            <div class="mb-3">
                                <label for="roleSelect" class="form-label">Роль</label>
                                <select class="form-select" id="roleSelect" name="role">
                                    <option th:each="role : ${listRoles}" th:value="${role.id}"
                                            th:text="${role.nameRole}"></option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Сохранить</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- DashBoard для админа -->
    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <h2>DashBoard for Admin</h2>
    </div>
</div>

<!-- Приветствие зарегистрированного пользователя -->
<div sec:authorize="hasRole('ROLE_USER')" th:fragment="WelcomePage" class="top d-flex flex-column justify-content-between welcome-page">
    <div class="container fullwidth d-flex flex-column flex-xl-row mt-xl-auto ">
        <div class="col col-xl-auto text-center">
            <h1 class="futura-medium-c">Добро пожаловать в личный кабинет дизайнера</h1>
        </div>
        <div class="col col-xl-auto text-center ms-xl-auto">
            <p class="text-intro-header">Дорогие партнеры!</p>
        </div>
    </div>
    <div class="container fullwidth mb-xl-5 d-flex justify-content-center">
        <div class="col-xl-6 ms-xl-auto text-center text-xl-end">
            <p class="text-intro">Для того, чтобы выразить благодарность за ваше усердие и профессионализм, мы рады объявить о запуске программы мотивации.</p>

            <button class="btn btn-outline-bonus btn-lighter my-xl-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasLeft" aria-controls="offcanvasLeft">
                Узнать подробнее
            </button>

            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasLeft" aria-labelledby="offcanvasLeftLabel">
                <div class="offcanvas-header">
                    <button type="button" class="btn btn-outline-bonus ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">Закрыть</button>
                </div>
                <div class="offcanvas-body text-start">
                    <h2>Дорогие партнеры</h2>
                    <div>
                        <p>
                            Вы работаете усердно каждый день, чтобы предложить клиентам лучшие каменные изделия. Мы очень ценим Ваш труд и стремление достигать лучших результатов.
                        </p>

                    </div>
                    <div>
                        <p>
                            Для того, чтобы выразить благодарность за ваше усердие и профессионализм, мы рады объявить о запуске программы мотивации: ежемесячно вы имеете возможность получать дополнительный бонус на карту за ваши успешно реализованные проекты с использованием нашего высококачественного камня.
                        </p>
                    </div>

                    <div>
                        <p>
                            Весь материал, приобретенный у нас в течение месяца — это ценный вклад в наше общее дело. Поэтому наша компания рада достойно отблагодарить вас.
                        </p>
                    </div>

                    <div>
                        <p>
                            Заполните форму на получение бонуса до конца месяца, чтобы мы могли рассчитать ваш бонус, а вы — получить его на карту 10 числа следующего месяца.
                        </p>
                    </div>

                    <button type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCreateOrder" aria-controls="offcanvasCreateOrder" class="btn btn-bonus" style="margin-bottom: 45px;">
                        Заполнить форму
                    </button>

                    <div>
                        <p>
                            Не упускайте возможность увеличить свой доход и получить дополнительные бонусы за свой труд. Мы уверены в ваших высоких результатах.
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="container fullwidth d-flex flex-column flex-xl-row flex-xl-fill pb-4 " style="max-height: 55vh;">
        <div class="col col-xl-6 mb-3 mb-xl-0">
            <button class="btn btn-bonus btn-gigantic" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCreateOrder" aria-controls="offcanvasCreateOrder">
                Заполнить заявку на бонус
            </button>
        </div>
        <div class="col col-xl-6">
            <a class="btn btn-outline-bonus btn-gigantic ms-auto" type="button" href="prize-draw">
                Учавствовать в розыгрыше
            </a>
        </div>
    </div>
    <div th:insert="~{fragmentsOrder :: OffcanvasOrderCreateForm}"></div>
</div>

// Главная страница для незарегистрированных
<div sec:authorize="!isAuthenticated()" th:fragment="WelcomePageUnregistered">
    <div class="vh100 d-flex flex-column justify-content-between">
        <div class="col-12 d-flex justify-content-center container fullwidth">
            <div class="col-auto my-3 text-center" style="padding-top: 30px;">
                <p class="text-intro">
                    Дорогие партнеры.<br>
                    Мы рады объявить о запуске программы мотивации.<br>
                    Не упускайте возможность увеличить свой доход.
                </p>
            </div>
        </div>

        <div class="d-flex flex-column flex-xl-row justify-content-between container fullwidth ">
            <div class="col-xl-5">
                <h1 class="intro-header">
                    Ежемесячно получайте бонус за каждый реализованный проект, где был использован материал компании
                    <span>
                <img th:src="@{/images/logo.svg}" alt="Company Logo">
            </span>
                </h1>
            </div>
            <div class="col-xl-6 text-end header-article">
                <p class="header-article article">
                    <br>как получить бонус
                </p>
                <p class="article">
                    1. Создайте личный кабинет партнера<br>
                    2. В личном кабинете заполните форму выполненного проекта<br>
                    3. Мы рассчитаем ваш бонус и зачислим на вашу карту 10 числа следующего месяца
                </p>
            </div>
        </div>

        <div class="d-flex flex-column justify-content-between mb-3 mt-auto container fullwidth">
            <div class="col-12 d-flex justify-content-between">
                <div class="col-6 col-xl-4 text-gigantic">
                    ПАРТНЁРСКАЯ
                </div>
                <div class="col-4 d-none d-xl-block py-4">
                    <button class="w-100 h-100 btn btn-outline-bonus" type="button" data-bs-toggle="offcanvas"
                            data-bs-target="#offcanvasRegistry"
                            aria-controls="offcanvasRight" style="height: 60px;display: block;border-style: dotted;">
                        Зарегистрировать
                    </button>
                </div>
                <div class="col-6 col-xl-4 text-end text-gigantic" style="padding-right: 2.4px;">
                    ПРОГРАММА
                </div>
            </div>
            <div class="d-flex d-xl-none col-12" style="padding-bottom: 20px;">
                <button class="w-100 btn btn-outline-bonus" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasRegistry"
                        aria-controls="offcanvasRight" style="height: 90px;display: block;border-style: dotted;">
                    Зарегистрировать
                </button>
            </div>
        </div>
    </div>

</div>

<!-- Другие фрагменты можно добавлять тут -->
</body>
</html>